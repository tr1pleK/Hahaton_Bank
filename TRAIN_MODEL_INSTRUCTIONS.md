# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±—É—á–µ–Ω–∏—é –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

1. ‚úÖ –ö–æ–¥ –∏–∑ `cybergarden_ML.py` –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `transaction_classifier.py`
2. ‚úÖ –ö–æ–¥ –∏–∑ `test_classifier.py` –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `requirements.txt` (–¥–æ–±–∞–≤–ª–µ–Ω—ã `lightgbm` –∏ `joblib`)
4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `categorizer.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏
5. ‚úÖ –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è –≥–æ—Ç–æ–≤ (`scripts/train_model.py`)

## üöÄ –®–∞–≥–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

–ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python -m venv venv
venv\Scripts\activate  # Windows
pip install -r requirements.txt
```

### –®–∞–≥ 2: –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å

```bash
python scripts/train_model.py "–ø—É—Ç—å/–∫/–≤–∞—à–µ–º—É/—Ñ–∞–π–ª—É/ci_data.csv"
```

–ù–∞–ø—Ä–∏–º–µ—Ä:
```bash
python scripts/train_model.py "C:\Users\–ï–≥–æ—Ä\Downloads\Telegram Desktop\ci_data.csv"
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- –ú–µ—Ç—Ä–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è (Accuracy, F1-score)
- –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –º–æ–¥–µ–ª–∏
- –ú–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ `ml_models/transaction_classifier.pkl`

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
uvicorn app.main:app --reload

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker
docker-compose up --build
```

–ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!

## üìù –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–§–æ—Ä–º–∞—Ç CSV**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CSV —Ñ–∞–π–ª –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:
   - –ü–µ—Ä–≤—ã–µ 5 —Å—Ç—Ä–æ–∫ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è (`skiprows=5`)
   - –ö–æ–ª–æ–Ω–∫–∏: `Date1`, `Category`, `RefNo`, `Date2`, `Withdrawal`, `Deposit`, `Balance`

2. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏**: –ú–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:
   - `Food` ‚Üí `–ü—Ä–æ–¥—É–∫—Ç—ã`
   - `Misc` ‚Üí `–ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã`
   - `Rent` ‚Üí `–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏`
   - `Salary` ‚Üí `–ó–∞—Ä–ø–ª–∞—Ç–∞`
   - `Shopping` ‚Üí `–û–¥–µ–∂–¥–∞`

3. **Fallback –ø—Ä–∞–≤–∏–ª–∞**: –ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏:
   - Salary: Deposit == 34800 –∏ –¥–∞—Ç–∞ 24‚Äì26
   - Rent: Withdrawal 3900‚Äì7500 –∏ –¥–∞—Ç–∞ ‚â§6
   - Shopping: 150‚Äì3000 –≤ –ø–µ—Ä–≤—ã–µ 5 –¥–Ω–µ–π –ø–æ—Å–ª–µ –∑–∞—Ä–ø–ª–∞—Ç—ã

## üîÑ –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å (–¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç):

```bash
python scripts/train_model.py "–ø—É—Ç—å/–∫/—Ñ–∞–π–ª—É/ci_data.csv" --force-retrain
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:

```python
from app.ml.transaction_classifier import TransactionClassifier

classifier = TransactionClassifier()
print(f"–ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞: {classifier.is_trained}")
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
backend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ ml/
‚îÇ       ‚îú‚îÄ‚îÄ transaction_classifier.py  # ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–¥ –æ–±—É—á–µ–Ω–∏—è –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ categorizer.py             # ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å
‚îÇ       ‚îú‚îÄ‚îÄ cybergarden_ML.py         # –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å (–∫–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)
‚îÇ       ‚îî‚îÄ‚îÄ test_classifier.py        # –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å (–∫–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ train_model.py                # ‚úÖ –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ ml_models/
‚îÇ   ‚îî‚îÄ‚îÄ transaction_classifier.pkl    # –°–æ–∑–¥–∞—Å—Ç—Å—è –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è
‚îî‚îÄ‚îÄ requirements.txt                   # ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω
```

## ‚ùì –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "No module named 'lightgbm'"
```bash
pip install lightgbm
```

### –û—à–∏–±–∫–∞: "File not found"
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ CSV —Ñ–∞–π–ª—É. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∏–ª–∏ –ø—É—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

### –ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª `ml_models/transaction_classifier.pkl` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–¥–µ–ª—å –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ –æ–±—É—á–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏:
1. ‚úÖ –ú–æ–¥–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `categorizer.py`
2. ‚úÖ API –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏
3. ‚úÖ –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å `cybergarden_ML.py` –∏ `test_classifier.py` (–∫–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω)

